(window["webpackJsonpreact-firebase-blog-starter"]=window["webpackJsonpreact-firebase-blog-starter"]||[]).push([[0],{34:function(e,t,a){e.exports=a.p+"static/media/BannerDrawn.8c25f8d5.png"},43:function(e,t,a){e.exports=a(63)},48:function(e,t,a){},49:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),l=a(18),o=a.n(l),i=(a(48),a(15)),m=a(8),u=(a(49),a(9)),s=a(21),g=(a(50),a(52),s.a.initializeApp({apiKey:"AIzaSyAojZYoC9uNOpGUljPe8Wp4qYMqtDGlbtQ",authDomain:"personal-blog-site-1c74c.firebaseapp.com",databaseURL:"https://personal-blog-site-1c74c-default-rtdb.firebaseio.com",projectId:"personal-blog-site-1c74c",storageBucket:"personal-blog-site-1c74c.appspot.com",messagingSenderId:"971089961173",appId:"1:971089961173:web:325fc75de67574889a025c"})),p=g.auth(),d=function(){return n||(n=s.a,s.a)},b=a(34),f=a.n(b),E=function(){var e=Object(r.useState)(!0),t=Object(u.a)(e,2),a=t[0],n=t[1],l=Object(r.useState)([]),o=Object(u.a)(l,2),s=o[0],g=o[1];Object(m.g)();return a&&!s.length&&d().database().ref("/posts").orderByChild("dateFormatted").once("value").then(function(e){var t=[],a=e.val();for(var r in a)t.push(a[r]);var c=t.reverse();g(c),n(!1)}),a?c.a.createElement("h1",null,"Loading..."):(console.log(d()),c.a.createElement(c.a.Fragment,null,c.a.createElement("section",{className:"top-banner-section"},c.a.createElement("div",{className:"banner-image-div"},c.a.createElement("img",{className:"banner-image",src:f.a})),c.a.createElement("div",{className:"banner-overlay-div"}),c.a.createElement("div",{className:"banner-text-div"},c.a.createElement("span",{className:"banner-text"},c.a.createElement("p",{className:"banner-h1-text"},"A Personal Blog: Diving Into Tech"),c.a.createElement("p",{className:"banner-body-text"},"My stories and experiences taking a non-traditional route in tech"),c.a.createElement("br",null),c.a.createElement("p",null,"Banner art by Tanner Hebbel")))),c.a.createElement("main",null,s.map(function(e){return c.a.createElement("section",{key:e.slug,className:"card"},c.a.createElement("img",{src:e.coverImage,alt:e.coverImageAlt}),c.a.createElement("div",{className:"card-content"},c.a.createElement("h2",null,e.title," \u2014"," ",c.a.createElement("span",{style:{color:"#5e5e5e"}},e.datePretty)),c.a.createElement("p",{dangerouslySetInnerHTML:{__html:"".concat(e.content.substring(0,200),"...")}}),c.a.createElement(i.b,{to:"/".concat(e.slug)},"Continue reading...")))}))))},v=a(36),h=a(37);function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(a,!0).forEach(function(t){Object(v.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var j={display:"block",marginBottom:4},w={width:"100%",height:"2rem",lineHeight:"2rem",verticalAlign:"middle",fontSize:"1rem",marginBottom:"1.5rem",padding:"0 0.25rem"},S=function(e){var t=e.history,a=Object(r.useState)(""),n=Object(u.a)(a,2),l=n[0],o=n[1],i=Object(r.useState)(""),m=Object(u.a)(i,2),s=m[0],g=m[1],p=Object(r.useState)(""),b=Object(u.a)(p,2),f=b[0],E=b[1],v=Object(r.useState)(""),y=Object(u.a)(v,2),S=y[0],x=y[1],C=Object(r.useState)(""),I=Object(u.a)(C,2),P=I[0],N=I[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"Create a new post"),c.a.createElement("section",{style:{margin:"2rem 0"}},c.a.createElement("label",{style:j,htmlFor:"title-field"},"Title"),c.a.createElement("input",{style:w,id:"title-field",type:"text",value:l,onChange:function(e){var t=e.target.value;o(t)}}),c.a.createElement("label",{style:j,htmlFor:"slug-field"},"Slug"),c.a.createElement("input",{style:w,id:"slug-field",type:"text",value:s,onChange:function(e){var t=e.target.value;g(t)}}),c.a.createElement("label",{style:j,htmlFor:"cover-image-field"},"Cover image"),c.a.createElement("input",{style:w,id:"cover-image-field",type:"text",value:f,onChange:function(e){var t=e.target.value;E(t)}}),c.a.createElement("label",{style:j,htmlFor:"cover-image-alt-field"},"Cover image alt"),c.a.createElement("input",{style:w,id:"cover-image-alt-field",type:"text",value:S,onChange:function(e){var t=e.target.value;x(t)}}),c.a.createElement("label",{style:j,htmlFor:"content-field"},"Content"),c.a.createElement("textarea",{style:O({},w,{height:200,verticalAlign:"top"}),id:"content",type:"text",value:P,onChange:function(e){var t=e.target.value;N(t)}}),c.a.createElement("div",{style:{textAlign:"right"}},c.a.createElement("button",{style:{border:"none",color:"#fff",backgroundColor:"#039be5",borderRadius:"4px",padding:"8px 12px",fontSize:"0.9rem"},onClick:function(){var e=function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1;a<10&&(a="0".concat(a));var n=e.getDate();return n<10&&(Object(h.a)("day"),n="0".concat(n)),{formatted:"".concat(t,"-").concat(a,"-").concat(n),pretty:e.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}}(),a={title:l,dateFormatted:e.formatted,datePretty:e.pretty,slug:s,coverImage:f,coverImageAlt:S,content:P};d().database().ref().child("posts/".concat(s)).set(a).then(function(){return t.push("/")})}},"Create"))))},x=function(e){var t=e.match.params.slug,a=Object(r.useState)(!0),n=Object(u.a)(a,2),l=n[0],o=n[1],i=Object(r.useState)(),s=Object(u.a)(i,2),g=s[0],p=s[1];return l&&!g&&d().database().ref().child("/posts/".concat(t)).once("value").then(function(e){e.val()&&p(e.val()),o(!1)}),l?c.a.createElement("h1",null,"Loading..."):!g?c.a.createElement(m.a,{to:"/404"}):c.a.createElement(c.a.Fragment,null,c.a.createElement("img",{className:"banner-image",src:g.coverImage,alt:g.coverImageAlt}),c.a.createElement("h1",null,g.title),c.a.createElement("em",null,g.datePretty),c.a.createElement("p",{dangerouslySetInnerHTML:{__html:g.content}}))},C=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"Hmmm... can't seem to find that page."),c.a.createElement(i.b,{to:"/"},"Take me home"))},I=a(28),P=a.n(I),N=a(38),k=a(68),F=a(66),A=a(67),D=a(65),B=c.a.createContext();function L(){return Object(r.useContext)(B)}function U(e){var t=e.children,a=Object(r.useState)(),n=Object(u.a)(a,2),l=n[0],o=n[1];Object(r.useEffect)(function(){return p.onAuthStateChanged(function(e){o(e)})},[]);var i={currentUser:l,signup:function(e,t){return p.createUserWithEmailAndPassword(e,t)},login:function(e,t){return p.signInWithEmailAndPassword(e,t)},logout:function(){return p.signOut}};return c.a.createElement(B.Provider,{value:i},t)}function T(){var e=Object(r.useRef)(),t=Object(r.useRef)(),a=L().login,n=Object(r.useState)(""),l=Object(u.a)(n,2),o=l[0],s=l[1],g=Object(r.useState)(!1),p=Object(u.a)(g,2),d=p[0],b=p[1],f=Object(m.g)();function E(){return(E=Object(N.a)(P.a.mark(function n(r){return P.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),console.log(e.current.value),n.prev=2,s(""),b(!0),n.next=7,a(e.current.value,t.current.value);case 7:f.push("/create"),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),s("Failed to sign in");case 13:b(!1);case 14:case"end":return n.stop()}},n,null,[[2,10]])}))).apply(this,arguments)}return c.a.createElement(c.a.Fragment,null,c.a.createElement(k.a,null,c.a.createElement(k.a.Body,{className:"text-center mb-4"},c.a.createElement("h2",null,"Log In"),o&&c.a.createElement(F.a,{variant:"danger"},"error"),c.a.createElement(A.a,{onSubmit:function(e){return E.apply(this,arguments)}},c.a.createElement(A.a.Group,{id:"email"},c.a.createElement(A.a.Label,null,"Email"),c.a.createElement(A.a.Control,{type:"email",ref:e,required:!0})),c.a.createElement(A.a.Group,{id:"password"},c.a.createElement(A.a.Label,null,"Password"),c.a.createElement(A.a.Control,{type:"password",ref:t,required:!0})),c.a.createElement(D.a,{disabled:d,className:"w-100",type:"submit"},"Log In")))),c.a.createElement("div",{className:"w-100 text-center m-2"},"Need an account? ",c.a.createElement(i.b,{to:"/signup"},"Sign Up")))}var q=a(41);function G(e){var t=e.component,a=Object(q.a)(e,["component"]),n=L().currentUser;return c.a.createElement(m.b,Object.assign({},a,{render:function(e){return n?c.a.createElement(t,e):c.a.createElement(m.a,{to:"/login"})}}))}var H=function(){return c.a.createElement(i.a,null,c.a.createElement("nav",null,c.a.createElement(i.b,{to:"/"},c.a.createElement("h2",null,"Enrique Galindo"))),c.a.createElement(U,null,c.a.createElement(m.d,null,c.a.createElement(m.b,{exact:!0,path:"/",component:E}),c.a.createElement(G,{path:"/create",component:S}),c.a.createElement(m.b,{path:"/login",component:T}),c.a.createElement(m.b,{path:"/404",component:C}),c.a.createElement(m.b,{path:"/:slug",component:x}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(62);o.a.render(c.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[43,1,2]]]);
//# sourceMappingURL=main.b4ee8f2b.chunk.js.map